<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">


	<h:form id="hotlist-candidate-details-form">

			<p:panel style="margin-top:1%;">
				<f:facet name="header">Interview Schedule Of #{salesBean.interviewSchedule.vendorName}</f:facet>
				<div class="ui-g" style="border: none;">

					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Hotlist Name:" />
							<c:if test="${empty salesBean.interviewSchedule.candidate.hotlistCandidateName}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.candidate.hotlistCandidateName}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.candidate.hotlistCandidateName}" />
							</c:if>

						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Candidate Email:" />
							<c:if test="${empty salesBean.interviewSchedule.candidate.emailId}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.candidate.emailId}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.candidate.emailId}" />
							</c:if>

						</h:panelGrid>
					</div>



					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Phone No:" />
							<c:if test="${empty salesBean.interviewSchedule.candidate.contactNo}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.candidate.contactNo}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.candidate.contactNo}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Vendor Name:" />
							<c:if test="${empty salesBean.interviewSchedule.vendorName}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.vendorName}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.vendorName}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Vendor Contact Person Name:" />
							<c:if test="${empty salesBean.interviewSchedule.vendorContactPersonName}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.vendorContactPersonName}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.vendorContactPersonName}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Vendor Contact Person Email Id:" />
							<c:if test="${empty salesBean.interviewSchedule.vendorContactPersonEmailid}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.vendorContactPersonEmailid}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.vendorContactPersonEmailid}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Vendor Contact Person Phone No.:" />
							<c:if test="${empty salesBean.interviewSchedule.vendorContactPersonPhoneNo}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.vendorContactPersonPhoneNo}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.vendorContactPersonPhoneNo}" />
							</c:if>
						</h:panelGrid>
					</div>

					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Extension:" />
							<c:if test="${empty salesBean.interviewSchedule.extension}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.extension}">
								<h:outputText style="font-size:16px" value="#{is.extension}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Date:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewDate}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewDate}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.interviewDate}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Time:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewTime}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewTime}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.interviewTime}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Type:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewType}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewType}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.interviewType}" />
							</c:if>
						</h:panelGrid>
					</div>

					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Location:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewLocation}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewLocation}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.interviewLocation}" />
							</c:if>
						</h:panelGrid>
					</div>

					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Expense Amount:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewExpenseAmount}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewExpenseAmount}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.interviewExpenseAmount}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="End Client:" />
							<c:if test="${empty salesBean.interviewSchedule.endClient}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.endClient}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.endClient}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Position Id:" />
							<c:if test="${empty salesBean.interviewSchedule.positionId}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.positionId}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.positionId}" />
							</c:if>
						</h:panelGrid>
					</div>



					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Work Location:" />
							<c:if test="${empty salesBean.interviewSchedule.workLocation}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.workLocation}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.workLocation}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Round:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewRound}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewRound}">
								<h:outputText style="font-size:16px"
									value="#{salesBean.interviewSchedule.interviewRound}" />
							</c:if>
						</h:panelGrid>
					</div>


					<div class="ui-g-12 ui-md-6 ui-lg-4" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Interview Id:" />
							<c:if test="${empty salesBean.interviewSchedule.interviewId}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.interviewId}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.interviewId}" />
							</c:if>
						</h:panelGrid>
					</div>


				</div>

				<div class="ui-g" style="border: none;">
					<div class="ui-g-12 ui-md-12 ui-lg-12" style="border: none;">
						<h:panelGrid style="border: none;" columns="2">
							<p:outputLabel style="font-size:16px;color:teal"
								value="Feedback:" />
							<c:if test="${empty salesBean.interviewSchedule.feedback}">
								<h:outputText style="font-size:16px" value="N/A" />
							</c:if>
							<c:if test="${!empty salesBean.interviewSchedule.feedback}">
								<h:outputText style="font-size:16px" value="#{salesBean.interviewSchedule.feedback}" />
							</c:if>
						</h:panelGrid>
					</div>
				</div>

				<div class="ui-g" style="border: none;">
					<div class="ui-g-12 ui-md-12 ui-lg-12" style="border: none;">
						<h:panelGrid style="border: none;margin-left:86%" columns="2">
							<p:commandButton value="Edit"
								action="#{salesBean.editInterviewScheduleInDetailsPage(salesBean.interviewSchedule)}"
								update=":mainBody" icon="fa fa-fw fa-edit"
								style="background-color:Salmon" />
							<p:commandButton value="Re-Schedule" immediate="true"
								style="background-color:LightSeaGreen" icon="fa fa-repeat"
								oncomplete="PF('rescheduleDlg').show();"
								action="#{salesBean.rescheduleFormInDetailsPage(salesBean.interviewSchedule)}"
								update=":reschedule-Form" styleClass="ui-priority-primary" />
						</h:panelGrid>
					</div>
				</div>


				<p:panel rendered="#{not empty salesBean.interviewSchedule.reSchedules}" style="border:none;">

					<p:dataTable id="reschedule" var="r" value="#{salesBean.interviewSchedule.reSchedules}">

						<p:column headerText="Interview Date"
							style="width:10%;text-align:center">
							<h:outputText value="#{r.interviewDate}" pattern="dd-MMMM-yyyy" />
						</p:column>

						<p:column headerText="Interview Time"
							style="width:10%;text-align:center">
							<h:outputText value="#{r.interviewTime}" />
						</p:column>

						<p:column headerText="Interview Type"
							style="width:10%;text-align:center">
							<h:outputText value="#{r.interviewType}" />
						</p:column>

						<p:column headerText="Interview Location"
							style="width:10%;text-align:center">
							<h:outputText value="#{r.interviewLocation}" />
						</p:column>

						<p:column headerText="Edit" style="width:10%;text-align:center">

							<p:commandLink action="#{salesBean.editInterviewResheduleInDetailsPage(r)}"
								 oncomplete="PF('editRescheduleDlg').show();"
								update=":editReschedule-Form">
                            <i class="fa fa-pencil"></i>
							</p:commandLink>

						</p:column>

					</p:dataTable>



				</p:panel>
			</p:panel>
	</h:form>
	
	
	
	<h:form id="sales-followup-form">
	    <p:panel id="sales-followup-panel" style="margin-top:1%">
			<f:facet name="header">Follow Up</f:facet>
			<h:panelGrid columns="8" layout="grid" style="border: none;">
				<p:outputLabel for="follow-up"
					style="font-size:16px;font-weight:bold" value="Follow Up:" />

				<p:inputText id="follow-up"
					value="#{salesBean.salesFollowUp.followUpRemarks}" required="true"
					requiredMessage="Enter Follow Up" placeholder="Follow Up"
					size="100" />
				<p:message for="follow-up" />


				<p:outputLabel for="next-follow-up-date"
					style="font-size:16px;font-weight:bold"
					value="Next Follow Up Date:" />

				<p:calendar id="next-follow-up-date"
					value="#{salesBean.salesFollowUp.nextFollowUpDate}"
					placeholder="Next Follow Up Date" pattern="dd-MMMM-yyyy">
				</p:calendar>

				<p:message for="next-follow-up-date" />


				<p:commandButton value="Save"
					action="#{salesBean.saveSalesFollowup()}"
					update=":sales-followup-form" />

			</h:panelGrid>
		</p:panel>
		
		
		<p:panel id="sales-followup-table-panel"
			rendered="#{not empty salesBean.salesFollowupList}"
			style="margin-top:1%">

			<p:dataTable var="s" value="#{salesBean.salesFollowupList}"
				paginator="true" rows="50" resizableColumns="true" resizeMode="true"
				widgetVar="salesadvanceSearch" sortBy="#{s.salesFollowupId}"
				sortOrder="descending"
				paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
				rowsPerPageTemplate="50,100,200,300,500" rowKey="#{s.salesFollowupId}"
				tableStyle="width:auto;table-layout:auto">


				<f:facet name="header">Follow Up List</f:facet>

				<p:column headerText="Remarks" sortBy="#{s.followUpRemarks}"
					filterBy="#{s.followUpRemarks}" style="width:30%" styleClass="wrap">
					<h:outputText style="font-size:14px;" value="#{s.followUpRemarks}" />
				</p:column>

				<p:column headerText="Follow Up Date" sortBy="#{s.followUpDate}"
					filterBy="#{s.followUpDate}" style="width:10%">
					<h:outputText value="#{s.followUpDate}">
					</h:outputText>
				</p:column>

				<p:column headerText="Next Follow Up Date"
					sortBy="#{s.nextFollowUpDate}" filterBy="#{s.nextFollowUpDate}"
					style="text-align:center;width:10%">
					<h:outputText value="#{s.nextFollowUpDate}">
					</h:outputText>
				</p:column>

				<p:column headerText="User Name"
					sortBy="#{s.userProfile.userFullName}"
					filterBy="#{s.userProfile.userFullName}" style="width:10%">
					<h:outputText value="#{s.userProfile.userFullName}" />
				</p:column>

			</p:dataTable>

		</p:panel>
		
	</h:form>
	


	<h:form id="reschedule-Form">
		<p:dialog header="Re-Schedule Details" id="rescheduleDetails"
			height="250" width="900" widgetVar="rescheduleDlg" modal="true"
			showEffect="explode" hideEffect="fade" responsive="true">

			<p:panel style="margin-top:1%" id="reshedule-Details">
				<f:facet name="header">Re-Schedule Details</f:facet>

				<div class="ui-g" style="border: none">
					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-date" value="Interview Date:" />
							<p:calendar id="interview-date"
								value="#{salesBean.reSchedule.interviewDate}" required="true"
								requiredMessage="Enter Interview Date" pattern="dd-MMMM-yyyy"
								placeholder="Interview Date" />
							<p:message for="interview-date" />
						</h:panelGrid>
					</div>

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-time" value="Interview Time:" />
							<p:inputText id="interview-time"
								value="#{salesBean.reSchedule.interviewTime}"
								placeholder="Interview Time" />
							<p:message for="interview-time" />
						</h:panelGrid>
					</div>
				</div>

				<div class="ui-g" style="border: none">

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-type" value="Interview Type:" />
							<p:selectOneMenu id="interview-type"
								value="#{salesBean.reSchedule.interviewType}" required="true"
								requiredMessage="Select Interview Type"
								style="width:93%!important">
								<f:selectItem itemLabel="----Select----" itemValue="" />
								<f:selectItem itemLabel="TELEPHONIC" itemValue="TELEPHONIC" />
								<f:selectItem itemLabel="SKYPE" itemValue="SKYPE" />
								<f:selectItem itemLabel="FACE TO FACE" itemValue="FACE TO FACE" />
							</p:selectOneMenu>
							<p:message for="interview-type" />
						</h:panelGrid>
					</div>

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-location"
								value="Interview Location:" />
							<p:inputText id="interview-location"
								value="#{salesBean.reSchedule.interviewLocation}"
								placeholder="Interview Location" />
							<p:message for="interview-location" />
						</h:panelGrid>
					</div>
				</div>

				<f:facet name="footer">
					<div style="text-align: center">
						<p:commandButton value="Save"
							action="#{salesBean.saveRescheduleForDetailsPage()}"
							update=":hotlist-candidate-details-form,reshedule-Details,:sales-followup-form"
							oncomplete="handleRescheduleCreate(xhr, status, args)" />
					</div>
				</f:facet>
			</p:panel>
		</p:dialog>
	</h:form>


	<h:form id="editReschedule-Form">
		<p:dialog header="Update Re-Schedule Details"
			id="editRescheduleDetails" height="250" width="900"
			widgetVar="editRescheduleDlg" modal="true" showEffect="explode"
			hideEffect="fade" responsive="true">

			<p:panel style="margin-top:1%" id="edit-payment-Details">
				<f:facet name="header">Re-Schedule Details</f:facet>

				<div class="ui-g" style="border: none">
					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-date" value="Interview Date:" />
							<p:calendar id="interview-date"
								value="#{salesBean.reSchedule.interviewDate}" required="true"
								requiredMessage="Enter Interview Date" pattern="dd-MMMM-yyyy"
								placeholder="Interview Date" />
							<p:message for="interview-date" />
						</h:panelGrid>
					</div>

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-time" value="Interview Time:" />
							<p:inputText id="interview-time"
								value="#{salesBean.reSchedule.interviewTime}"
								placeholder="Interview Time" />
							<p:message for="interview-time" />
						</h:panelGrid>
					</div>
				</div>

				<div class="ui-g" style="border: none">

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-type" value="Interview Type:" />
							<p:selectOneMenu id="interview-type"
								value="#{salesBean.reSchedule.interviewType}" required="true"
								requiredMessage="Select Interview Type"
								style="width:93%!important">
								<f:selectItem itemLabel="----Select----" itemValue="" />
								<f:selectItem itemLabel="TELEPHONIC" itemValue="TELEPHONIC" />
								<f:selectItem itemLabel="SKYPE" itemValue="SKYPE" />
								<f:selectItem itemLabel="FACE TO FACE" itemValue="FACE TO FACE" />
							</p:selectOneMenu>
							<p:message for="interview-type" />
						</h:panelGrid>
					</div>

					<div class="ui-g-6 ui-md-6 ui-lg-6" style="border: none">
						<h:panelGrid style="width:100%">
							<p:outputLabel for="interview-location"
								value="Interview Location:" />
							<p:inputText id="interview-location"
								value="#{salesBean.reSchedule.interviewLocation}"
								placeholder="Interview Location" />
							<p:message for="interview-location" />
						</h:panelGrid>
					</div>
				</div>

				<f:facet name="footer">
					<div style="text-align: center">
						<p:commandButton value="Save"
							action="#{salesBean.saveRescheduleForDetailsPage()}"
							update=":hotlist-candidate-details-form,edit-payment-Details,:sales-followup-form"
							oncomplete="handleRescheduleEdit(xhr, status, args)" />
					</div>
				</f:facet>
			</p:panel>
		</p:dialog>
	</h:form>


	<script type="text/javascript">
    function handleRescheduleCreate(xhr, status, args) {
        if(args.validationFailed) {
            PF('rescheduleDlg').jq.effect("shake", {times:10}, 100);
        }
        else {
            PF('rescheduleDlg').hide();
        }
    }


    function handleRescheduleEdit(xhr, status, args) {
        if(args.validationFailed) {
            PF('editRescheduleDlg').jq.effect("shake", {times:10}, 100);
        }
        else {
            PF('editRescheduleDlg').hide();
        }
    }

    </script>

</ui:composition>